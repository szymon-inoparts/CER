<!-- index.html - CER full interface with sidebar A1, 3 pages, comments -->
<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CER  System Reklamacji</title>
  <link rel="icon" href="CER.ico" type="image/x-icon" />
  <!-- czenie CSS -->
  <link rel="stylesheet" href="style.css" />
  <script src="docx.min.js"></script>
</head>
<body>

<div class="layout-main">
  <header class="topbar">
    <div class="topbar-progress"><div class="topbar-progress__fill"></div></div>
    <div class="topbar__actions">
      <button class="btn btn-ghost" onclick="switchPage(1)">G&#322;&#243;wna</button>
      <button class="btn btn-ghost" onclick="switchPage(2)">Dodaj zg&#322;oszenie</button>
      <button class="btn btn-ghost" onclick="switchPage(3)">Ewidencja</button>
      <button class="btn btn-ghost" onclick="switchPage(4)">Generator</button>
      <button class="btn btn-ghost reset-top" onclick="resetAllForms()">Reset</button>
      <a class="btn btn-ghost" href="https://docs.google.com/spreadsheets/d/1JU247iwMJa5wN6b6pWlRw3oEkLNkdT52vMW2D31BAK0/edit?usp=sharing" target="_blank" rel="noopener noreferrer">Otwórz CER w GS</a>
    </div>
    <div class="topbar__badges">
      <div class="topbar__logo">CER</div>
      <div class="topbar__logo topbar__logo--secondary">INOPARTS</div>
    </div>
  </header>

  <!-- STRONA 1: G&#321;&#211;WNA -->
  <section id="page-1" class="page page-active">
    <h1>Panel g&#322;&#243;wny</h1>
    <p class="section-desc">Szybki start i skr&#243;ty do modu&#322;&#243;w.</p>
    <div class="home-grid">
      <div class="card home-primary">
        <h3>Instrukcja u&#380;ytkowania</h3>
        <ul class="muted" style="line-height:1.6; padding-left:18px;">
          <li><strong>Start</strong> - aplikacja jest od razu dostepna; pasek gorny przelacza moduly: Glowna, Dodaj zgloszenie, Ewidencja, Generator, Reset.</li>
          <li><strong>Dodaj zgłoszenie</strong>:
            <ul style="padding-left:14px; margin-top:6px;">
              <li>1) Wpisz numer zamówienia, kliknij „Pobierz dane zamówienia”. System zaciągnie dane klienta, adres, produkty.</li>
              <li>2) Zaznacz produkty do zgłoszenia (checkbox), ustaw ilość (domyślnie pełna ilość z zamówienia).</li>
              <li>3) Wypełnij pola (powód, typ, notatka, pracownik – jeśli wymagane). Kliknij „Zapisz zgłoszenie” – trafia do CER.</li>
            </ul>
          </li>
          <li><strong>Ewidencja</strong>:
            <ul style="padding-left:14px; margin-top:6px;">
              <li>Pojedyncze: wpisz numer w „Szukaj pojedynczego”, kliknij „Pobierz”. Otwórz kartę, przycisk „Edytuj” pozwala poprawić adres/powód/typ/dec./notatkę, potem „Zapisz”.</li>
              <li>Lista: wybierz zakres (Ostatnie 7/14 dni, miesiąc, 20/50, wymagające odpowiedzi, status w trakcie/zakończone, wszystkie) i „Pobierz listę”. W tabeli masz daty zgłoszenia/terminu decyzji/zamknięcia. Przyciski: „Szczegóły” (rozwija kartę) i „Generuj” (przenosi numer do Generatora).</li>
            </ul>
          </li>
          <li><strong>Generator</strong>:
            <ul style="padding-left:14px; margin-top:6px;">
              <li>1) Wpisz numer reklamacji/zamówienia, kliknij „Pokaż dane”.</li>
              <li>2) Wybierz decyzję (Negatywna/Pozytywna), język tłumaczenia (PL/CZ/DE/SK/HU/EN). CZ w backendzie idzie jako CS.</li>
              <li>3) Opcja „Brak odpowiedzi klienta” – chowa pole odpowiedzi i wstawia tekst automatyczny.</li>
              <li>4) Kliknij „Generuj odpowiedź” – wygeneruje DOCX z danymi (klient, adres, produkty, daty). Plik pobierze się automatycznie.</li>
            </ul>
          </li>
          <li><strong>Produkty/adresy/dat y</strong> – pobierane z webhooków Sellasist/CER. Jeśli czegoś brakuje lub wymaga korekty, popraw w Ewidencji (Edytuj → Zapisz), potem wróć do Generatora i wygeneruj ponownie.</li>
          <li><strong>Reset</strong> – czyści formularze i chowa sekcje wyników (nie usuwa danych z CER).</li>
        </ul>
      </div>
      <div class="home-right">
        <div class="card home-secondary">
          <h3>Osoby procesujące reklamacje</h3>
          <div class="field">
            <label>Imię</label>
            <input id="home-proc-name" type="text" placeholder="np. Anna" />
          </div>
          <div class="field">
            <label>Email</label>
            <input id="home-proc-email" type="email" placeholder="np. anna@example.com" />
          </div>
          <button class="btn btn-primary" id="home-proc-add">Dodaj</button>
        </div>
        <div class="card home-modules">
          <h3>Modu&#322;y</h3>
          <div class="home-modules-grid">
            <button class="module-tile" onclick="switchPage(2)">Dodaj zg&#322;oszenie</button>
            <button class="module-tile" onclick="switchPage(3)">Ewidencja</button>
            <button class="module-tile" onclick="switchPage(4)">Generator odpowiedzi</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- STRONA 2: DODAJ ZG&#321;OSZENIE -->
  <section id="page-2" class="page">
    <h1>Dodaj nowe zg&#322;oszenie</h1>
    <p class="section-desc">Uzupe&#322;nij dane i zapisz nowe zg&#322;oszenie reklamacyjne</p>

    <!-- Numer zam&#243;wienia + pobieranie danych -->
    <div class="field">
      <label>Numer zam&#243;wienia</label>
      <div class="row-inline">
        <input id="s1-order" type="text" placeholder="Wpisz numer zam&#243;wienia..." />
        <button class="btn" id="s1-fetch">Pobierz dane zam&#243;wienia</button>
      </div>
    </div>

    <!-- Sekcja kt&#243;ra rozwija si&#281; po pobraniu danych -->
    <div id="s1-order-data" class="box hidden">
      <h3>Dane zam&#243;wienia</h3>

      <!-- Lista produkt&#243;w -->
      <div class="field">
        <label>Produkty w zam&#243;wieniu</label>
        <div id="s1-products"></div>
      </div>

      <div class="grid-2">
        <div class="field">
          <label>Koszt wysy&#322;ki</label>
          <input id="s1-shipping" type="text" disabled />
        </div>
        <div class="field">
          <label>Data zam&#243;wienia</label>
          <input id="s1-date" type="text" disabled />
        </div>
      </div>

      <div class="grid-2">
        <div class="field">
          <label>Kraj</label>
          <input id="s1-country" type="text" disabled />
        </div>
        <div class="field">
          <label>Platforma sprzeda&#380;y</label>
          <input id="s1-platform" type="text" disabled />
        </div>
      </div>

      <h3>Dane klienta</h3>
      <div class="grid-2">
        <div class="field">
          <label>Imi&#281; i nazwisko</label>
          <input id="s1-client-name" type="text" disabled />
        </div>
        <div class="field">
          <label>Email</label>
          <input id="s1-client-email" type="text" disabled />
        </div>
      </div>
      <div class="grid-2">
        <div class="field">
          <label>Telefon</label>
          <input id="s1-client-phone" type="text" disabled />
        </div>
        <div class="field">
      <label>Nick klienta</label>
      <input id="s1-client-nick" type="text" disabled />
    </div>
  </div>

      <h3>Adres rozliczeniowy</h3>
      <div class="field">
        <label>Adres (ulica, nr, kod, miasto, kraj)</label>
        <input id="s1-bill-full" type="text" disabled />
      </div>
    </div>

    <!-- Pola uzupe&#322;niane r&#281;cznie -->
    <div class="box">
      <h3>Dane zg&#322;oszenia</h3>

      <div class="grid-2">
        <div class="field">
          <label>Data zg&#322;oszenia</label>
          <input id="s1-report-date" type="date" />
        </div>
        <div class="field">
          <label>Typ reklamacji</label>
          <select id="s1-type">
            <option value="-" selected>-</option>
            <option value="Wada produktu">Wada produktu</option>
            <option value="Uszkodzone przez klienta">Uszkodzone przez klienta</option>
            <option value="Błąd magazynowy">Błąd magazynowy</option>
            <option value="Brak informacji od klienta">Brak informacji od klienta</option>
            <option value="Brak możliwości weryfikacji">Brak możliwości weryfikacji</option>
            <option value="Utrata gwarancji">Utrata gwarancji</option>
          </select>
        </div>
      </div>

      <div class="field">
        <label>Pow&#243;d reklamacji</label>
        <textarea id="s1-reason" placeholder="Opisz pow&#243;d reklamacji..."></textarea>
      </div>

      <div class="grid-2">
        <div class="field">
          <label>Osoba odpowiedzialna</label>
          <input id="s1-employee" type="text" />
        </div>
        <div class="field">
          <label>Notatka</label>
          <textarea id="s1-note" placeholder="Dodatkowe uwagi..."></textarea>
        </div>
      </div>

      <button class="btn btn-primary" id="s1-save">Zapisz zg&#322;oszenie</button>
    </div>
  </section>

    <!-- STRONA 2: EWIDENCJA -->
  <section id="page-3" class="page">
    <h1>Ewidencja zg&#322;osze&#324;</h1>

    <div class="s2-controls s2-controls--grid">
      <div class="s2-filter-panel s2-filter-panel--default">
        <div class="s2-filter-title">Filtry (AND)</div>
        <div class="filters-group-grid">
          <div class="filter-group">
            <div class="filter-group__title">Data zam&#243;wienia</div>
            <div class="filter-group__fields">
              <div class="field">
                <label>Od</label>
                <div class="date-input">
                  <input id="s2-order-from" type="date" />
                  <span class="date-placeholder">dd.mm.yyyy</span>
                </div>
              </div>
              <div class="field">
                <label>Do</label>
                <div class="date-input">
                  <input id="s2-order-to" type="date" />
                  <span class="date-placeholder">dd.mm.yyyy</span>
                </div>
              </div>
            </div>
          </div>
          <div class="filter-group">
            <div class="filter-group__title">Data zg&#322;oszenia</div>
            <div class="filter-group__fields">
              <div class="field">
                <label>Od</label>
                <div class="date-input">
                  <input id="s2-received-from" type="date" />
                  <span class="date-placeholder">dd.mm.yyyy</span>
                </div>
              </div>
              <div class="field">
                <label>Do</label>
                <div class="date-input">
                  <input id="s2-received-to" type="date" />
                  <span class="date-placeholder">dd.mm.yyyy</span>
                </div>
              </div>
            </div>
          </div>
          <div class="filter-group">
            <div class="filter-group__title">Termin decyzji</div>
            <div class="filter-group__fields">
              <div class="field">
                <label>Od</label>
                <div class="date-input">
                  <input id="s2-decision-from" type="date" />
                  <span class="date-placeholder">dd.mm.yyyy</span>
                </div>
              </div>
              <div class="field">
                <label>Do</label>
                <div class="date-input">
                  <input id="s2-decision-to" type="date" />
                  <span class="date-placeholder">dd.mm.yyyy</span>
                </div>
              </div>
            </div>
          </div>
          <div class="filter-group">
            <div class="filter-group__title">Data rozwi&#261;zania</div>
            <div class="filter-group__fields">
              <div class="field">
                <label>Od</label>
                <div class="date-input">
                  <input id="s2-resolved-from" type="date" />
                  <span class="date-placeholder">dd.mm.yyyy</span>
                </div>
              </div>
              <div class="field">
                <label>Do</label>
                <div class="date-input">
                  <input id="s2-resolved-to" type="date" />
                  <span class="date-placeholder">dd.mm.yyyy</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="filters-bottom">
          <div class="filters-row">
            <div class="field">
              <label>Typ reklamacji</label>
              <select id="s2-filter-type">
                <option value="">Wszystkie</option>
              </select>
            </div>
            <div class="field">
              <label>Pracownik</label>
              <select id="s2-filter-employee">
                <option value="">Wszyscy</option>
              </select>
            </div>
            <div class="field">
              <label>Status</label>
              <select id="s2-filter-status">
                <option value="">Wszystkie</option>
              </select>
            </div>
            <div class="field s2-search-inline">
              <label>Numer reklamacji lub zam&#243;wienia</label>
              <div class="row-inline">
                <input id="s2-search" type="text" placeholder="Numer reklamacji lub zam&#243;wienia" />
                <button class="btn" id="s2-search-btn">Pobierz</button>
              </div>
            </div>
          </div>
          <div class="filters-actions">
            <button class="btn btn-primary" id="s2-filter-apply">Filtruj</button>
            <button class="btn btn-ghost" id="s2-filter-reset">Wyczy&#347;&#263;</button>
          </div>
        </div>
      </div>
    </div>

    <div id="s2-single-result" class="box hidden"></div>

    <div id="s2-list" class="table-box hidden"></div>
  </section>
<!-- STRONA 3: GENERATOR ODPOWIEDZI -->
  <section id="page-4" class="page">
    <h1>Generator odpowiedzi</h1>

    <div class="field">
      <label>Numer reklamacji / zam&#243;wienia</label>
      <div class="row-inline">
        <input id="s3-number" type="text" placeholder="np. RMA-123" />
        <button class="btn" id="s3-fetch">Poka&#380; dane</button>
      </div>
    </div>

    <div id="s3-details" class="box hidden"></div>

    <hr />
<br>
    <h3>Generowanie odpowiedzi</h3>
<br>
    <div class="field">
      <label>Decyzja</label>
      <select id="s3-decision">
        <option value="negatywna" selected>Negatywna</option>
        <option value="pozytywna">Pozytywna</option>
      </select>
    </div>
  
<div class="field-inline">
      <input id="s3-noresp" type="checkbox" />
      <label for="s3-noresp">Brak odpowiedzi klienta &#8211; wstaw automat</label>
    </div>
    <br>
    <div class="field">
      <label>Odpowied&#378; (PL)</label>
       
    <div id="s3-auto-note" class="muted hidden">Automatyczna odpowied&#378; zostanie wstawiona i wys&#322;ana.</div>
      <textarea id="s3-answer" placeholder="Tu wpisz odpowied&#378;..."></textarea>
    </div>

   
<br>
    <div class="field">
      <label>J&#281;zyk t&#322;umaczenia</label>
      <div class="row-inline">
        <button class="lang-btn" data-lang="PL">PL</button>
        <button class="lang-btn" data-lang="CZ">CZ</button>
        <button class="lang-btn" data-lang="DE">DE</button>
        <button class="lang-btn" data-lang="SK">SK</button>
        <button class="lang-btn" data-lang="HU">HU</button>
        <button class="lang-btn" data-lang="EN">EN</button>
      </div>
    </div>

    <button class="btn btn-primary" id="s3-generate">Generuj odpowied&#378;</button>
  </section>

</div>

<!-- TOAST -->
<div class="toast" id="toast">
  <div class="toast-dot" id="toast-dot"></div>
  <span id="toast-text">Komunikat</span>
</div>

<!-- JS -->
<script src="docx.min.js"></script>
<script src="config.js"></script>
<script src="utils.js"></script>
<script src="dom.js"></script>
<script src="render.js"></script>
<script src="edit.js"></script>
<script src="docx.js"></script>
<script src="s1.js"></script>
<script src="s2.js"></script>
<script src="s3.js"></script>
<script src="main.js"></script>
</body>
</html>
